'use client';

import React from 'react';
import { useInView } from 'react-intersection-observer';
import CountUp from 'react-countup';

function Categories() {
  const { ref, inView } = useInView({ triggerOnce: true });

  return (
    <div className="bg-black rounded-b-3xl text-white border-t border-l border-r border-[#272727]">
      <div
        ref={ref}
        className="max-w-7xl mx-auto pt-10 pb-20 flex flex-col items-center justify-center border-l border-r border-[#272727] px-4 sm:px-6"
      >
        {/* Decorative SVG */}
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 688 53" fill="none">
          <g clipPath="url(#clip0_180_13590)">
            <path d="M0.324707 49.6998C0.324707 49.0105 0.59853 48.3494 1.08594 47.862C1.57334 47.3746 2.23441 47.1008 2.92371 47.1008C3.61301 47.1008 4.27407 47.3746 4.76148 47.862C5.24889 48.3494 5.52271 49.0105 5.52271 49.6998C5.52271 50.3891 5.24889 51.0502 4.76148 51.5376C4.27407 52.025 3.61301 52.2988 2.92371 52.2988C2.23441 52.2988 1.57334 52.025 1.08594 51.5376C0.59853 51.0502 0.324707 50.3891 0.324707 49.6998ZM341.401 2.92359C341.401 2.23429 341.675 1.57322 342.162 1.08582C342.65 0.598408 343.311 0.324585 344 0.324585C344.689 0.324585 345.351 0.598408 345.838 1.08582C346.325 1.57322 346.599 2.23429 346.599 2.92359C346.599 3.61289 346.325 4.27395 345.838 4.76136C345.351 5.24877 344.689 5.52259 344 5.52259C343.311 5.52259 342.65 5.24877 342.162 4.76136C341.675 4.27395 341.401 3.61289 341.401 2.92359ZM2.43646 49.6998V41.9038H3.41096V49.6998H2.43646ZM18.5158 25.8244H328.408V26.7989H18.5158V25.8244ZM343.513 10.7196V2.92359H344.487V10.7196H343.513ZM328.408 25.8244C336.75 25.8244 343.513 19.0614 343.513 10.7196H344.487C344.487 19.6003 337.289 26.7989 328.408 26.7989V25.8244ZM2.43646 41.9038C2.43646 33.0231 9.63512 25.8244 18.5158 25.8244V26.7989C10.174 26.7989 3.41096 33.562 3.41096 41.9038H2.43646Z" fill="#171D15"></path>
            <path d="M687.676 49.6998C687.676 49.0105 687.402 48.3494 686.915 47.862C686.427 47.3746 685.766 47.1008 685.077 47.1008C684.388 47.1008 683.726 47.3746 683.239 47.862C682.752 48.3494 682.478 49.0105 682.478 49.6998C682.478 50.3891 682.752 51.0502 683.239 51.5376C683.726 52.025 684.388 52.2988 685.077 52.2988C685.766 52.2988 686.427 52.025 686.915 51.5376C687.402 51.0502 687.676 50.3891 687.676 49.6998ZM346.599 2.92359C346.599 2.23429 346.326 1.57322 345.838 1.08582C345.351 0.598408 344.69 0.324585 344 0.324585C343.311 0.324585 342.65 0.598408 342.163 1.08582C341.675 1.57322 341.401 2.23429 341.401 2.92359C341.401 3.61289 341.675 4.27395 342.163 4.76136C342.65 5.24877 343.311 5.52259 344 5.52259C344.69 5.52259 345.351 5.24877 345.838 4.76136C346.326 4.27395 346.599 3.61289 346.599 2.92359ZM685.564 49.6998V41.9038H684.59V49.6998H685.564ZM669.485 25.8244H359.592V26.7989H669.485V25.8244ZM344.488 10.7196V2.92359H343.513V10.7196H344.488ZM359.592 25.8244C351.251 25.8244 344.488 19.0614 344.488 10.7196H343.513C343.513 19.6003 350.712 26.7989 359.592 26.7989V25.8244ZM685.564 41.9038C685.564 33.0231 678.365 25.8244 669.485 25.8244V26.7989C677.827 26.7989 684.59 33.562 684.59 41.9038H685.564ZM344 47.1008C343.311 47.1008 342.65 47.3746 342.163 47.862C341.675 48.3494 341.401 49.0105 341.401 49.6998C341.401 50.3891 341.675 51.0502 342.163 51.5376C342.65 52.025 343.311 52.2988 344 52.2988C344.69 52.2988 345.351 52.025 345.838 51.5376C346.326 51.0502 346.599 50.3891 346.599 49.6998C346.599 49.0105 346.326 48.3494 345.838 47.862C345.351 47.3746 344.69 47.1008 344 47.1008ZM343.513 34.1077V49.6998H344.488V34.1077H343.513Z" fill="#171D15"></path>
          </g>
        </svg>

        {/* Stats Section */}
        <div className="flex flex-col sm:flex-row items-center justify-between gap-10 mt-10 w-full max-w-4xl">
          {/* Stat 1 */}
          <div className="flex flex-col items-center justify-center gap-3 text-center flex-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
              <path d="M21.1382 23.5246H4.22768C3.64397 23.5246 3.17078 23.0514 3.17078 22.4677V3.44338C3.17078 2.85967 3.64397 2.38647 4.22768 2.38647H21.1382C21.7219 2.38647 22.1951 2.85967 22.1951 3.44338V22.4677C22.1951 23.0514 21.7219 23.5246 21.1382 23.5246ZM7.39839 6.61409V10.8417H11.626V6.61409H7.39839ZM7.39839 12.9555V15.0693H17.9674V12.9555H7.39839ZM7.39839 17.1831V19.2969H17.9674V17.1831H7.39839ZM13.7398 7.671V9.78481H17.9674V7.671H13.7398Z" fill="#4EDF00" />
            </svg>
            <div className="text-gray-500 text-sm sm:text-base">Tokens Scanned</div>
            <div className="text-lg font-semibold">
              {inView && <CountUp end={339224} duration={2} separator="," />}
            </div>
          </div>

          {/* Stat 2 */}
          <div className="flex flex-col items-center justify-center gap-3 text-center flex-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
              <path d="M2.11401 14.0124H8.45544V22.4676H2.11401V14.0124ZM9.51235 3.44336H15.8538V22.4676H9.51235V3.44336ZM16.9107 8.72788H23.2521V22.4676H16.9107V8.72788Z" fill="#4EDF00" />
            </svg>
            <div className="text-gray-500 text-sm sm:text-base">Opportunity Detected</div>
            <div className="text-lg font-semibold">
              {inView && <CountUp end={124650} duration={2} separator="," />}
            </div>
          </div>

          {/* Stat 3 */}
          <div className="flex flex-col items-center justify-center gap-3 text-center flex-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
              <path d="M4.12339 19.1527L8.25699 15.0192L11.2463 18.0085L16.0776 13.1773L17.9725 15.0723V9.78774H12.688L14.5829 11.6827L11.2463 15.0192L8.25699 12.0297L3.02967 17.2571C2.4443 15.9438 2.1189 14.4892 2.1189 12.9584C2.1189 7.12133 6.85083 2.3894 12.688 2.3894C18.525 2.3894 23.257 7.12133 23.257 12.9584C23.257 18.7956 18.525 23.5275 12.688 23.5275C9.16452 23.5275 6.04378 21.8034 4.12339 19.1527Z" fill="#4EDF00" />
            </svg>
            <div className="text-gray-500 text-sm sm:text-base">Risk Token Detected</div>
            <div className="text-lg font-semibold">
              {inView && <CountUp end={8920777} duration={2} separator="," />}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

export default Categories;
